# Repository Guidelines

## Project Structure & Module Organization
Source TypeScript for this n8n package lives in `nodes/HerokuAI`, which contains the chat node implementation plus its SVG icons, and in `nodes/utils.ts` for shared helpers. Credential logic is defined in `credentials/HerokuAIApi.credentials.ts`. `dist/` holds compiled artefacts generated by the TypeScript build—never edit its contents manually. Utility scripts reside in `scripts/`, notably `copy-icons.mjs`, which keeps the bundled icons in sync. `index.js` re-exports the built node for publishing.

## Build, Test, and Development Commands
Install dependencies with `pnpm install` (pnpm is pinned in `package.json`). Use `pnpm dev` for a watch mode compiler while iterating, and `pnpm build` for a clean production build that also refreshes icons. Run `pnpm lint` to execute ESLint and `pnpm lintfix` to apply autofixes. `pnpm format` enforces Prettier styling, and `pnpm prepublishOnly` replicates the release-time build plus stricter lint rules—run it before tagging or publishing.

## Coding Style & Naming Conventions
Follow the existing n8n scaffolding: TypeScript files use tab indentation, trailing commas, and double-quoted strings as shown in the current sources. Keep variables and functions in `camelCase`, classes in `PascalCase`, and filenames aligned with n8n patterns (`*.node.ts`, `*.credentials.ts`). ESLint (via `eslint.config.mjs` and `eslint-plugin-n8n-nodes-base`) and Prettier are the authorities on formatting—prefer running those tools over hand-formatting. Avoid adding runtime dependencies unless they are essential to the node.

## Testing Guidelines
There is no standalone test runner yet, so rely on the static toolchain. `pnpm build` should pass without emitting TypeScript errors and regenerate `dist/`. Pair that with `pnpm lint` to catch schema and best-practice issues enforced by the n8n lint rules. When changing parameters or credentials, validate them in an n8n instance, confirming that the Heroku AI credential test succeeds and the node runs end-to-end.

## Commit & Pull Request Guidelines
The existing history follows Conventional Commit prefixes (`fix:`, `feat:`, `chore:`) with separate version bump commits (`0.1.x`). Keep commits focused, mention the affected node or credential, and include regenerated `dist/` output when appropriate. Pull requests should explain user-facing impact, reference any linked issues, and attach workflow exports or screenshots when the behavior in n8n changes.

## Security & Configuration Tips
Never commit live API keys—document expected environment variables instead and rely on n8n credential storage. Keep the default base URL of `https://us.inference.heroku.com` unless you explicitly support another region, and call that out in the changelog. Review added endpoints or scopes for least-privilege access before merging.
